{"ast":null,"code":"var _jsxFileName = \"D:\\\\phpstudy_pro\\\\WWW\\\\react\\\\xiangmu\\\\meiliwan\\\\src\\\\pages\\\\Detail\\\\index.js\";\n// 商品详情页\nimport React from 'react';\nimport '../../utils/flexible';\nimport './detail.scss';\nimport { Carousel } from 'antd';\nimport { Modal, Button } from 'antd';\nimport { Input } from 'antd';\nimport { message } from 'antd';\nimport http from '../../utils/http';\nimport store from '../../store/index';\nimport { connect } from 'react-redux'; // console.log(\"store\",store);\n// const state=store.getState();\n// store.subscribe(function(){\n//     console.log(\"xiugai\",JSON.stringify(store.getState()))\n// })\n// console.log(\"app.props11=\",this.props)\n// console.log(\"store,state\",state);\n// store.dispatch({\n//     type:'add_to_cart',\n//     goods:{\n//         \"iCheck\": true,\n//         \"isPromote\": true,\n//         \"iGoodsId\": \"10086\",\n//         \"iTotal\": \"1\",\n//         \"iCurrPrice\": 599.00,\n//         \"sMallName\": \"源计划 艾瑞莉娅 中型雕塑\",\n//         \"sProfileImg\": \"https://game.gtimg.cn/images/zb/x5/uploadImg/goods/202006/20200611211952_44398.jpg\"\n//     }\n// })\n// store.dispatch({\n//     type:'change_qty',\n//     iGoodsId:10086,\n//     goods_qty:10\n// })\n\nclass Detail extends React.Component {\n  constructor() {\n    super();\n\n    this.handleScroll = e => {\n      if (e.srcElement.scrollingElement.scrollTop >= 1500) {\n        this.setState({\n          showElem: true\n        });\n      } else {\n        this.setState({\n          showElem: false\n        });\n      } // let Apptop=document.getElementById('app').offsetTop-50;\n\n\n      let appraiseTop = document.getElementById('appraise').offsetTop - 50;\n      let detailsTop = document.getElementById('details').offsetTop - 50;\n\n      if (e.srcElement.scrollingElement.scrollTop >= appraiseTop && e.srcElement.scrollingElement.scrollTop < detailsTop) {\n        this.setState({\n          navList: 1\n        });\n      } else if (e.srcElement.scrollingElement.scrollTop >= detailsTop) {\n        this.setState({\n          navList: 2\n        });\n      } else {\n        this.setState({\n          navList: 0\n        });\n      }\n    };\n\n    this.showModal = () => {\n      this.setState({\n        count: 1,\n        visible: true\n      });\n    };\n\n    this.handleOk = () => {\n      this.setState({\n        count: 1\n      });\n    };\n\n    this.goCar = () => {\n      this.setState({\n        visible: false\n      }); // 不生效了\n\n      message.success('添加成功！', 2.5); // 获取用户ID和商品ID，商品数量\n\n      const userId = localStorage.getItem('lol') || '';\n      const iGoodsId = this.state.detail.id;\n      let shopCount = this.state.count; // console.log(\"用户名为：\" + userId + \"商品id为：\" + shopId)\n      // 发送ajax，添加到购物车\n      // let res = await http.put('/db/cart.json', {\n      //     userId: userId,\n      //     shopId: shopId,\n      //     shopCount: shopCount\n      // })\n      // console.log(res)\n      // store.dispatch({\n      //     type:'add_to_cart',\n      //     goods:{\n      //         shopId,\n      //         shopCount,\n      //         goods_qty:1\n      //     }\n      // }) \n      // 判断当前商品是否已经添加到购物车\n\n      const {\n        dispatch,\n        cartlist\n      } = this.props;\n      const currentGoods = cartlist.filter(item => item.iGoodsId == shopId)[0];\n      console.log(currentGoods); // 已添加：修改数量\n\n      if (currentGoods) {\n        let iTotal = currentGoods.iTotal - 0 + 1;\n        store.dispatch({\n          type: 'change_qty',\n          iGoodsId,\n          iTotal\n        }); // console.log(\"fanfananfan \",currentGoods.iTotal)\n      } else {\n        // 未添加：添加\n        store.dispatch({\n          type: 'add_to_cart',\n          goods: {\n            iGoodsId: iGoodsId,\n            iTotal: shopCount\n          }\n        });\n      }\n    };\n\n    this.state = {\n      visible: false,\n      //  购物车商品的数量\n      count: 1,\n      // 存储商品信息\n      detail: {},\n      // 存储轮播图\n      sDetailImg: [],\n      // 商品图片\n      sProfileImg: [],\n      // 是否显示返回顶部按钮\n      showElem: false,\n      // 锚点的标签\n      navList: 0,\n      // 分类和遮罩层的控制\n      display_name: 'none',\n      qty: 0\n    };\n    this.showModal = this.showModal.bind(this);\n    this.goCar = this.goCar.bind(this);\n    this.handleOk = this.handleOk.bind(this);\n    this.reduce = this.reduce.bind(this);\n    this.add = this.add.bind(this);\n    this.buyNow = this.buyNow.bind(this);\n    this.changeQty = this.changeQty.bind(this);\n    this.onClass = this.onClass.bind(this);\n    this.onMask = this.onMask.bind(this);\n  } // 挂载前获取数据\n\n\n  async componentDidMount() {\n    window.addEventListener('scroll', this.handleScroll.bind(this)); //监听滚动\n    // 获取商品id\n\n    const {\n      match\n    } = this.props;\n    const {\n      id\n    } = match.params;\n    let p = await http.get('/db/detail.json', {\n      goods_id: id\n    });\n\n    if (p.code == 200) {\n      console.log(\"okokokoko\");\n      this.setState({\n        detail: p.data,\n        // 轮播图\n        sDetailImg: p.data.sDetailImg,\n        //商品图片\n        sProfileImg: p.data.sProfileImg\n      });\n    } else {\n      console.log(\"网络出错了，请稍后重试！！\");\n    }\n  }\n\n  componentWillUnmount() {\n    //一定要最后移除监听器，以防多个组件之间导致this的指向紊乱\n    window.removeEventListener('scroll', this.handleScroll.bind(this));\n  } //监听滚动\n\n\n  // 选择商品点击减号的时候\n  reduce() {\n    console.log(\"减少了\");\n\n    if (this.state.count < 2) {\n      console.log(\"不能再少了\");\n      return;\n    } else {\n      this.setState({\n        count: this.state.count - 1\n      });\n    }\n  } // 选择商品点击加号的时候\n\n\n  add() {\n    console.log(\"添加了\");\n    this.setState({\n      count: this.state.count + 1\n    });\n  } // 立即购买\n\n\n  buyNow() {\n    console.log(\"立即购买\"); // 数量要加1\n    // this.add();\n\n    this.goCar(); // const {history}=this.props;\n    // history.push('/cart')\n  } // 修改商品数量\n\n\n  changeQty(e) {\n    // console.log('changeQty=',goods_id,goods_qty)\n    console.log(\"这里\", e.target.value);\n    this.setState({\n      count: parseInt(e.target.value)\n    }); // dispatch({\n    //     type:'CHANGE_QTY_ASYNC',\n    //     goods_id,\n    //     goods_qty\n    // })\n  } // 锚点\n\n\n  scrollToAnchor(id, index) {\n    let Top = document.getElementById(id).offsetTop - 50; //这是离顶部\n\n    if (Top <= 0) {\n      Top = 0;\n    }\n\n    window.scrollTo({\n      top: Top,\n      left: 0,\n      behavior: 'smooth'\n    });\n  } // 点击分类\n\n\n  onClass() {\n    console.log(88888);\n    this.setState({\n      display_name: 'block'\n    });\n  } // 点击遮罩层，关闭\n\n\n  onMask() {\n    this.setState({\n      display_name: 'none',\n      visible: false\n    });\n  }\n\n  render() {\n    // console.log(this.props)\n    const {\n      detail\n    } = this.state;\n    const {\n      cartCount\n    } = this.props; // console.log(cartCount)\n    // const {goodslist}=store.getState();\n\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mall-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      id: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fixedbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fixedbar-con\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ico-mall ico-addr i-back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.navList === 0 ? \"item item-cur\" : \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.scrollToAnchor('app', 0),\n      title: \"\\u5546\\u54C1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 41\n      }\n    }, \"\\u5546\\u54C1\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.navList === 1 ? \"item item-cur\" : \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.scrollToAnchor('appraise', 1),\n      title: \"\\u8BC4\\u4EF7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 41\n      }\n    }, \"\\u8BC4\\u4EF7\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.navList === 2 ? \"item item-cur\" : \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => this.scrollToAnchor('details', 2),\n      title: \"\\u8BE6\\u60C5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 41\n      }\n    }, \"\\u8BE6\\u60C5\"))), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cate-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 50\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/lol/cart\",\n      className: \"cate-cart\",\n      title: \"\\u8D2D\\u7269\\u8F66\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ico-mall ico-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cart-point\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 45\n      }\n    }, cartCount))), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"ico-mall cate-class\",\n      onClick: this.onClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 37\n      }\n    }, \"\\u5206\\u7C7B\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-mask pop-mask-index pop-mask-hide\",\n      style: {\n        display: this.state.display_name\n      },\n      onClick: this.onMask,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"drop-menu\",\n      style: {\n        display: this.state.display_name\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"drop-arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/lol/notice\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 49\n      }\n    }, \"\\u5546\\u57CE\\u516C\\u544A\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/lol/tucao\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 49\n      }\n    }, \"\\u610F\\u89C1\\u53CD\\u9988\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      className: \"nuxt-link-active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 49\n      }\n    }, \"\\u805A\\u8BDA\\u54C1\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hasfixedbar content-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"goodpic-roller\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"roller-portrait\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"roller-portrait\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Carousel, {\n      effect: \"fade\",\n      autoplay: true,\n      autoplaySpeed: 4000,\n      dots: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 41\n      }\n    }, this.state.sDetailImg.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lubo\",\n      key: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item,\n      alt: \"\\u5546\\u54C1\\u56FE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 57\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"swiper-scrollbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"swiper-scrollbar-drag\",\n      style: {\n        transform: \"translate3d(0px, 0px, 0px)\",\n        transitionDuration: 0,\n        width: \"22px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 45\n      }\n    }, detail.sMallName), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sub-tit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pribox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"new-pri\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 53\n      }\n    }, \"\\xA5 \", detail.iPrice)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"act-item act-gitem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 49\n      }\n    }, \"\\u5DF2\\u9009\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 49\n      }\n    }, \"\\u9650\\u5B9A\\u7EC4\\u5408\\uFF0C\\u5F69\\u8272\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-yhbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tags\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tags-genu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 37\n      }\n    }, \"\\u5B98\\u65B9\\u5468\\u8FB9\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tags-th\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 37\n      }\n    }, \"\\u552E\\u540E\\u4FDD\\u969C\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-cmnt\",\n      id: \"appraise\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chead-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 33\n      }\n    }, \"\\u7528\\u6237\\u8BC4\\u4EF7\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cmnt-num\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 25\n      }\n    }, \"(4)\")), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chead-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 37\n      }\n    }, \"\\u7EFC\\u5408\\u8BC4\\u5206\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ico-mall ico-scores ico-point10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comment-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-hd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://game.gtimg.cn/images/zb/comm/jcp.png\",\n      alt: \"\\u5934\\u50CF\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 49\n      }\n    }, \"\\u533F\\u540D\\u7528\\u6237\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info-scores\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 53\n      }\n    }, \"\\u7EFC\\u5408\\u8BC4\\u5206\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ico-mall ico-scores ico-point10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 53\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 45\n      }\n    }, \"2020-04-16 12:58:56\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"cmnt-txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 41\n      }\n    }, \"\\u53EF\\u4EE5\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cmnt-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"btn-all\",\n      title: \"\\u67E5\\u770B\\u5168\\u90E8\\u8BC4\\u4EF7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 33\n      }\n    }, \"\\u67E5\\u770B\\u5168\\u90E8\\u8BC4\\u4EF7\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-section\",\n      id: \"details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sec-bd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"img-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 29\n      }\n    }, this.state.sProfileImg.map((item, index) => /*#__PURE__*/React.createElement(\"img\", {\n      src: item,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 41\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item action-kf-fav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/lol\",\n      title: \"\\u9996\\u9875\",\n      className: \"kf-nav-index nuxt-link-active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cell\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ico-mall i-home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 37\n      }\n    }, \"\\u9996\\u9875\"))), /*#__PURE__*/React.createElement(\"a\", {\n      title: \"\\u5BA2\\u670D\",\n      className: \"nav-service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cell\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ico-mall i-service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 37\n      }\n    }, \"\\u5BA2\\u670D\"))), /*#__PURE__*/React.createElement(\"a\", {\n      title: \"\\u6536\\u85CF\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cell\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ico-mall i-collect\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 37\n      }\n    }, \"\\u6536\\u85CF\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item action-buy action-presale\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      title: \"\\u9884\\u8BA111.11\\u53D1\\u8D27\",\n      className: \"presale-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 33\n      }\n    }, \"\\u9884\\u8BA111.11\\u53D1\\u8D27\")), /*#__PURE__*/React.createElement(\"a\", {\n      title: \"\\u7ACB\\u5373\\u8D2D\\u4E70\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 33\n      }\n    }, \"\\u7ACB\\u5373\\u8D2D\\u4E70\"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item action-cart\",\n      onClick: this.showModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      title: \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 37\n      }\n    }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item action-buy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      title: \"\\u7ACB\\u5373\\u8D2D\\u4E70\",\n      onClick: this.buyNow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 37\n      }\n    }, \"\\u7ACB\\u5373\\u8D2D\\u4E70\"))))), this.state.showElem ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gototop\",\n      onClick: () => this.scrollToAnchor('app'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 29\n      }\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-cart\",\n      style: {\n        display: this.state.visible ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-cart-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"area-bd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-cart-hd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 50\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-good-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://game.gtimg.cn/images/zb/x5/uploadImg/goods/201912/20191231200059_22287.jpg\",\n      alt: \"\\u5546\\u54C1\\u56FE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-good-zoom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ico-mall btn-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-cart-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pop-cart-pri\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 33\n      }\n    }, \"\\xA5 280.00\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pop-cart-kc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 33\n      }\n    }, \"\\u5E93\\u5B58\\u5145\\u8DB3\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pop-cart-result\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 33\n      }\n    }, \"\\u5DF2\\u9009\\uFF1A\\u9650\\u5B9A\\u7EC4\\u5408\\uFF0C\\u5F69\\u8272\"))), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"good-spec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"area-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"item-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 37\n      }\n    }, \"\\u89C4\\u683C\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"cur\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 45\n      }\n    }, \"\\u9650\\u5B9A\\u7EC4\\u5408\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 45\n      }\n    }, \"\\u5E38\\u89C4\\u6B3E\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"area-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"item-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 37\n      }\n    }, \"\\u989C\\u8272\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"cur\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 45\n      }\n    }, \"\\u5F69\\u8272\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"area-amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 37\n      }\n    }, \"\\u6570\\u91CF\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"amount-counter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      title: \"-\",\n      className: \"amount-minus\",\n      onClick: this.reduce,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 41\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(Input, {\n      min: 1,\n      max: 10,\n      value: this.state.count,\n      className: \"amount-text\",\n      onChange: this.changeQty.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      title: \"+\",\n      className: \"amount-plus\",\n      onClick: this.add,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 41\n      }\n    }, \"+\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-cart-zw\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-cart-act\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn-sure\",\n      onClick: this.goCar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 25\n      }\n    }, \"\\u786E\\u5B9A\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-preview\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pro-prebg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\",\n      alt: \"\\u5546\\u54C1\\u540D\\u79F0\",\n      className: \"pro-preimg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pop-mask pop-mask-index\",\n      style: {\n        display: this.state.visible ? \"block\" : \"none\"\n      },\n      onClick: this.onMask,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  // console.log(\"state\",state)\n  return {\n    cartCount: state.cartlist.length,\n    cartlist: state.cartlist\n  };\n};\n\nDetail = connect(mapStateToProps)(Detail);\nexport default Detail;","map":{"version":3,"sources":["D:/phpstudy_pro/WWW/react/xiangmu/meiliwan/src/pages/Detail/index.js"],"names":["React","Carousel","Modal","Button","Input","message","http","store","connect","Detail","Component","constructor","handleScroll","e","srcElement","scrollingElement","scrollTop","setState","showElem","appraiseTop","document","getElementById","offsetTop","detailsTop","navList","showModal","count","visible","handleOk","goCar","success","userId","localStorage","getItem","iGoodsId","state","detail","id","shopCount","dispatch","cartlist","props","currentGoods","filter","item","shopId","console","log","iTotal","type","goods","sDetailImg","sProfileImg","display_name","qty","bind","reduce","add","buyNow","changeQty","onClass","onMask","componentDidMount","window","addEventListener","match","params","p","get","goods_id","code","data","componentWillUnmount","removeEventListener","target","value","parseInt","scrollToAnchor","index","Top","scrollTo","top","left","behavior","render","cartCount","display","map","transform","transitionDuration","width","sMallName","iPrice","height","mapStateToProps","length"],"mappings":"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","sourcesContent":["// 商品详情页\r\nimport React from 'react'\r\nimport '../../utils/flexible'\r\nimport './detail.scss'\r\nimport { Carousel } from 'antd';\r\nimport { Modal, Button } from 'antd';\r\nimport { Input } from 'antd';\r\nimport { message } from 'antd';\r\nimport http from '../../utils/http';\r\nimport store from '../../store/index';\r\nimport {connect} from 'react-redux'\r\n// console.log(\"store\",store);\r\n// const state=store.getState();\r\n// store.subscribe(function(){\r\n//     console.log(\"xiugai\",JSON.stringify(store.getState()))\r\n// })\r\n// console.log(\"app.props11=\",this.props)\r\n// console.log(\"store,state\",state);\r\n// store.dispatch({\r\n//     type:'add_to_cart',\r\n//     goods:{\r\n//         \"iCheck\": true,\r\n//         \"isPromote\": true,\r\n//         \"iGoodsId\": \"10086\",\r\n//         \"iTotal\": \"1\",\r\n//         \"iCurrPrice\": 599.00,\r\n//         \"sMallName\": \"源计划 艾瑞莉娅 中型雕塑\",\r\n//         \"sProfileImg\": \"https://game.gtimg.cn/images/zb/x5/uploadImg/goods/202006/20200611211952_44398.jpg\"\r\n//     }\r\n// })\r\n// store.dispatch({\r\n//     type:'change_qty',\r\n//     iGoodsId:10086,\r\n//     goods_qty:10\r\n// })\r\nclass Detail extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            visible: false,\r\n            //  购物车商品的数量\r\n            count: 1,\r\n            // 存储商品信息\r\n            detail: {},\r\n            // 存储轮播图\r\n            sDetailImg: [],\r\n            // 商品图片\r\n            sProfileImg: [],\r\n            // 是否显示返回顶部按钮\r\n            showElem: false,\r\n            // 锚点的标签\r\n            navList: 0,\r\n            // 分类和遮罩层的控制\r\n            display_name: 'none',\r\n            qty :0\r\n        };\r\n        this.showModal = this.showModal.bind(this);\r\n        this.goCar = this.goCar.bind(this);\r\n        this.handleOk = this.handleOk.bind(this);\r\n        this.reduce = this.reduce.bind(this);\r\n        this.add = this.add.bind(this);\r\n        this.buyNow = this.buyNow.bind(this)\r\n        this.changeQty = this.changeQty.bind(this)\r\n        this.onClass = this.onClass.bind(this)\r\n        this.onMask = this.onMask.bind(this)\r\n    }\r\n    // 挂载前获取数据\r\n    async componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll.bind(this)) //监听滚动\r\n        // 获取商品id\r\n        const { match } = this.props;\r\n        const { id } = match.params;\r\n        let p = await http.get('/db/detail.json', { goods_id: id })\r\n        if (p.code == 200) {\r\n            console.log(\"okokokoko\")\r\n            this.setState({\r\n                detail: p.data,\r\n                // 轮播图\r\n                sDetailImg: p.data.sDetailImg,\r\n                //商品图片\r\n                sProfileImg: p.data.sProfileImg,\r\n            })\r\n        } else {\r\n            console.log(\"网络出错了，请稍后重试！！\")\r\n        }\r\n    }\r\n    componentWillUnmount() { //一定要最后移除监听器，以防多个组件之间导致this的指向紊乱\r\n        window.removeEventListener('scroll', this.handleScroll.bind(this))\r\n    }\r\n    //监听滚动\r\n    handleScroll = e => {\r\n        if (e.srcElement.scrollingElement.scrollTop >= 1500) {\r\n            this.setState({\r\n                showElem: true\r\n            })\r\n        } else {\r\n            this.setState({\r\n                showElem: false\r\n            })\r\n        }\r\n        // let Apptop=document.getElementById('app').offsetTop-50;\r\n        let appraiseTop = document.getElementById('appraise').offsetTop - 50;\r\n        let detailsTop = document.getElementById('details').offsetTop - 50;\r\n        if (e.srcElement.scrollingElement.scrollTop >= appraiseTop && e.srcElement.scrollingElement.scrollTop < detailsTop) {\r\n            this.setState({\r\n                navList: 1\r\n            })\r\n        } else if (e.srcElement.scrollingElement.scrollTop >= detailsTop) {\r\n            this.setState({\r\n                navList: 2\r\n            })\r\n        } else {\r\n            this.setState({\r\n                navList: 0\r\n            })\r\n        }\r\n    }\r\n    // 点击加入购物车按钮，样式效果\r\n    showModal = () => {\r\n        this.setState({\r\n            count:1,\r\n            visible: true,\r\n        });\r\n    };\r\n    // Modal 完全关闭后的回调\r\n    handleOk = () => {\r\n        this.setState({\r\n            count: 1\r\n        });\r\n    };\r\n    // 点击确定，隐藏弹窗，加入购物车,添加商品\r\n     goCar = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n        // 不生效了\r\n        message.success('添加成功！', 2.5);\r\n\r\n        // 获取用户ID和商品ID，商品数量\r\n        const userId = localStorage.getItem('lol') || '';\r\n        const iGoodsId = this.state.detail.id;\r\n        let shopCount = this.state.count;\r\n        // console.log(\"用户名为：\" + userId + \"商品id为：\" + shopId)\r\n        // 发送ajax，添加到购物车\r\n        // let res = await http.put('/db/cart.json', {\r\n        //     userId: userId,\r\n        //     shopId: shopId,\r\n        //     shopCount: shopCount\r\n        // })\r\n        // console.log(res)\r\n        // store.dispatch({\r\n        //     type:'add_to_cart',\r\n        //     goods:{\r\n        //         shopId,\r\n        //         shopCount,\r\n        //         goods_qty:1\r\n        //     }\r\n        // }) \r\n\r\n        // 判断当前商品是否已经添加到购物车\r\n        const {dispatch,cartlist} =this.props;\r\n        const currentGoods=cartlist.filter(item=>item.iGoodsId==shopId)[0];\r\n        console.log(currentGoods)\r\n        \r\n         // 已添加：修改数量\r\n        if(currentGoods){\r\n            let iTotal = currentGoods.iTotal-0+1\r\n            store.dispatch({\r\n                type:'change_qty',\r\n                iGoodsId,\r\n                iTotal\r\n            })\r\n            // console.log(\"fanfananfan \",currentGoods.iTotal)\r\n        }else{   // 未添加：添加\r\n            store.dispatch({\r\n            type:'add_to_cart',\r\n            goods:{\r\n                iGoodsId:iGoodsId,\r\n                iTotal:shopCount\r\n            }\r\n        })\r\n        }\r\n    }\r\n    // 选择商品点击减号的时候\r\n    reduce() {\r\n        console.log(\"减少了\")\r\n        if (this.state.count < 2) {\r\n            console.log(\"不能再少了\")\r\n            return\r\n        } else {\r\n            this.setState({\r\n                count: this.state.count - 1\r\n            })\r\n        }\r\n    }\r\n    // 选择商品点击加号的时候\r\n    add() {\r\n        console.log(\"添加了\")\r\n        this.setState({\r\n            count: this.state.count + 1\r\n        })\r\n    }\r\n    // 立即购买\r\n    buyNow() {\r\n        console.log(\"立即购买\")\r\n        // 数量要加1\r\n        \r\n        // this.add();\r\n        this.goCar();\r\n        // const {history}=this.props;\r\n        // history.push('/cart')\r\n    }\r\n    // 修改商品数量\r\n    changeQty(e) {\r\n        // console.log('changeQty=',goods_id,goods_qty)\r\n        console.log(\"这里\", e.target.value)\r\n        this.setState({\r\n            count: parseInt(e.target.value)\r\n        })\r\n        // dispatch({\r\n        //     type:'CHANGE_QTY_ASYNC',\r\n        //     goods_id,\r\n        //     goods_qty\r\n        // })\r\n    }\r\n    // 锚点\r\n    scrollToAnchor(id, index) {\r\n        let Top = document.getElementById(id).offsetTop - 50;//这是离顶部\r\n        if (Top <= 0) {\r\n            Top = 0\r\n        }\r\n        window.scrollTo({ top: Top, left: 0, behavior: 'smooth' });\r\n    }\r\n    // 点击分类\r\n    onClass() {\r\n        console.log(88888)\r\n        this.setState({\r\n            display_name: 'block'\r\n        })\r\n    }\r\n    // 点击遮罩层，关闭\r\n    onMask() {\r\n        this.setState({\r\n            display_name: 'none',\r\n            visible: false\r\n        })\r\n    }\r\n    render() {\r\n        // console.log(this.props)\r\n        const { detail } = this.state;\r\n        const { cartCount } = this.props;\r\n        // console.log(cartCount)\r\n        // const {goodslist}=store.getState();\r\n        console.log(this.props)\r\n        return (\r\n            <div className='mall-container'>\r\n                <div className='content' id=\"app\">\r\n                    {/* 头部的导航 */}\r\n                    <div className=\"fixedbar\">\r\n                        <div className=\"fixedbar-con\">\r\n                            <div className=\"detail-head\">\r\n                                <a href=\"#\" className=\"back\">\r\n                                    <i className=\"ico-mall ico-addr i-back\"></i>\r\n                                </a>\r\n                                <div className=\"cate\">\r\n                                    <div className={this.state.navList === 0 ? \"item item-cur\" : \"item\"}>\r\n                                        <a onClick={() => this.scrollToAnchor('app', 0)} title=\"商品\">商品</a>\r\n                                    </div>\r\n                                    <div className={this.state.navList === 1 ? \"item item-cur\" : \"item\"}>\r\n                                        <a onClick={() => this.scrollToAnchor('appraise', 1)} title=\"评价\">评价</a>\r\n                                    </div>\r\n                                    <div className={this.state.navList === 2 ? \"item item-cur\" : \"item\"}>\r\n                                        <a onClick={() => this.scrollToAnchor('details', 2)} title=\"详情\">详情</a>\r\n                                    </div></div> <div className=\"cate-right\">\r\n                                    <a href=\"/lol/cart\" className=\"cate-cart\" title=\"购物车\">\r\n                                        <i className=\"ico-mall ico-cart\"></i>\r\n                                        <span className=\"cart-point\">\r\n                                            <i>{cartCount}</i>\r\n                                        </span>\r\n                                    </a>\r\n                                    <a className=\"ico-mall cate-class\" onClick={this.onClass}>分类</a>\r\n\r\n                                    <div className=\"pop-mask pop-mask-index pop-mask-hide\" style={{ display: this.state.display_name }} onClick={this.onMask}></div>\r\n                                    <div className=\"drop-menu\" style={{ display: this.state.display_name }}>\r\n                                        <i className=\"drop-arrow\"></i>\r\n                                        <ul>\r\n                                            <li className=\"border\">\r\n                                                <a href=\"/lol/notice\" className=\"\">商城公告</a>\r\n                                            </li>\r\n                                            <li className=\"border\">\r\n                                                <a href=\"/lol/tucao\" className=\"\">意见反馈</a>\r\n                                            </li>\r\n                                            <li>\r\n                                                <a href=\"/\" className=\"nuxt-link-active\">聚诚品</a>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {/* 内容区 */}\r\n                    <div className=\"hasfixedbar content-wrap\">\r\n                        <div className=\"good-detail\">\r\n                            <div className=\"goodpic-roller\">\r\n                                {/* 图片 */}\r\n                                <div className='roller-portrait'>\r\n                                    <div className='roller-portrait'>\r\n                                        {/* 轮播图 */}\r\n                                        <Carousel effect=\"fade\" autoplay={true} autoplaySpeed={4000} dots={false}>\r\n                                            {\r\n                                                this.state.sDetailImg.map(item => (\r\n                                                    <div className='lubo' key=\"item\">\r\n                                                        <img src={item} alt=\"商品图\" />\r\n                                                    </div>\r\n                                                ))\r\n                                            }\r\n                                            {/* 轮播指示测试 */}\r\n\r\n                                        </Carousel>\r\n                                        <div className=\"swiper-scrollbar\">\r\n                                            <div className=\"swiper-scrollbar-drag\" style={{ transform: \"translate3d(0px, 0px, 0px)\", transitionDuration: 0, width: \"22px\" }}>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* 标题 */}\r\n                                    <div className=\"good-info\">\r\n                                        <div className=\"base\">\r\n                                            <h3 className=\"title\">{detail.sMallName}</h3>\r\n                                            <p className=\"sub-tit\"></p>\r\n                                            <div className=\"price\">\r\n                                                <div className=\"pribox\">\r\n                                                    <span className=\"new-pri\">¥ {detail.iPrice}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"actions\">\r\n                                            <div className=\"act-item act-gitem\">\r\n                                                <label>已选</label>\r\n                                                <div className=\"item-txt\">限定组合，彩色</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 选择规格商品下面的区域 */}\r\n                    <div className='good-content'>\r\n                        {/* 官方周边0 */}\r\n                        <div className=\"good-yhbox\" >\r\n                            <div className=\"actions\" >\r\n                                <div className=\"tags\" >\r\n                                    <span className=\"tags-genu\" >官方周边</span>\r\n                                    <span className=\"tags-th\" >售后保障</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* 用户评价 */}\r\n                    <div className='good-cmnt' id='appraise'>\r\n                        <div className='cmnt-wrap'>\r\n                            <div className=\"comment-head\">\r\n                                <div className=\"chead-left\">用户评价\r\n                        <span className=\"cmnt-num\">(4)</span>\r\n                                </div> <div className=\"chead-right\">\r\n                                    <span>综合评分</span>\r\n                                    <i className=\"ico-mall ico-scores ico-point10\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"comment-list\">\r\n                                <div className=\"cmnt-item\">\r\n                                    <div className=\"cmnt-hd\">\r\n                                        <div className=\"cmnt-info\">\r\n                                            <div className=\"avatar\">\r\n                                                <img src=\"https://game.gtimg.cn/images/zb/comm/jcp.png\" alt=\"头像\" />\r\n                                            </div>\r\n                                            <div className=\"info-detail\">\r\n                                                <h4>匿名用户</h4>\r\n                                                <div className=\"info-scores\">\r\n                                                    <span>综合评分</span>\r\n                                                    <i className=\"ico-mall ico-scores ico-point10\"></i>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"cmnt-time\">\r\n                                            <span>2020-04-16 12:58:56</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"cmnt-box\">\r\n                                        <p className=\"cmnt-txt\">可以</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"cmnt-action\">\r\n                                <a href=\"#\" className=\"btn-all\" title=\"查看全部评价\">\r\n                                    查看全部评价\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 商品详细信息介绍 */}\r\n                    <div className=\"good-section\" id='details'>\r\n                        <div className=\"sec-bd\">\r\n                            <div className=\"img-box\">\r\n                                {\r\n                                    this.state.sProfileImg.map((item, index) => (\r\n                                        <img src={item} key={index} />\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 加入购物车尾行 */}\r\n                    <div className=\"good-action\" >\r\n                        <div className=\"item action-kf-fav\" >\r\n                            <a href=\"/lol\" title=\"首页\" className=\"kf-nav-index nuxt-link-active\" >\r\n                                <div className=\"cell\" >\r\n                                    <span className=\"ico-mall i-home\" ></span>\r\n                                    <p >首页</p>\r\n                                </div>\r\n                            </a>\r\n                            <a title=\"客服\" className=\"nav-service\" >\r\n                                <div className=\"cell\" >\r\n                                    <span className=\"ico-mall i-service\" ></span>\r\n                                    <p >客服</p>\r\n                                </div>\r\n                            </a>\r\n                            <a title=\"收藏\" >\r\n                                <div className=\"cell\" >\r\n                                    <span className=\"ico-mall i-collect\" >\r\n                                    </span>\r\n                                    <p >收藏</p>\r\n                                </div>\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"item action-buy action-presale\" style={{ display: \"none\" }} >\r\n                            <a title=\"预计11.11发货\" className=\"presale-info\" >\r\n                                <span >预计11.11发货</span>\r\n                            </a>\r\n                            <a title=\"立即购买\" >\r\n                                <span >立即购买</span>\r\n                            </a>\r\n                        </div>\r\n                        <div style={{ height: \"100%\" }} >\r\n                            <div className=\"item action-cart\" onClick={this.showModal}>\r\n                                <a title=\"加入购物车\" >\r\n                                    <span >加入购物车</span>\r\n                                </a>\r\n                            </div>\r\n                            <div className=\"item action-buy\" >\r\n                                <a title=\"立即购买\" onClick={this.buyNow}>\r\n                                    <span >立即购买</span>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 返回顶部 */}\r\n                    {\r\n                        this.state.showElem ? (\r\n                            <div className=\"gototop\" onClick={() => this.scrollToAnchor('app')}></div>\r\n                        ) : null\r\n                    }\r\n\r\n\r\n                </div>\r\n\r\n                {/* 选择商品规则 */}\r\n                <div className=\"pop-cart\" style={{ display: this.state.visible ? \"block\" : \"none\" }}>\r\n                    <div className=\"pop-cart-area\">\r\n                        <div className=\"area-bd\"><div className=\"pop-cart-hd\">\r\n                            <div className=\"pop-good-img\">\r\n                                <img src=\"https://game.gtimg.cn/images/zb/x5/uploadImg/goods/201912/20191231200059_22287.jpg\" alt=\"商品图\" />\r\n                                <div className=\"pop-good-zoom\">\r\n                                    <i className=\"ico-mall btn-search\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"pop-cart-info\">\r\n                                <p className=\"pop-cart-pri\">¥ 280.00</p>\r\n                                <p className=\"pop-cart-kc\">库存充足</p>\r\n                                <p className=\"pop-cart-result\">已选：限定组合，彩色</p>\r\n                            </div></div> <div className=\"good-spec\">\r\n                                <div className=\"area-item\">\r\n                                    <p className=\"item-label\">规格</p>\r\n                                    <div className=\"item-panel\">\r\n                                        <ul>\r\n                                            <li className=\"cur\">限定组合</li>\r\n                                            <li className=\"\">常规款</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"area-item\">\r\n                                    <p className=\"item-label\">颜色</p>\r\n                                    <div className=\"item-panel\">\r\n                                        <ul>\r\n                                            <li className=\"cur\">彩色</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"area-amount\">\r\n                                    <label>数量</label>\r\n                                    <div className=\"amount-counter\">\r\n                                        <a title=\"-\" className=\"amount-minus\" onClick={this.reduce}>-</a>\r\n                                        {/* <input type=\"text\" className=\"amount-text\" /> */}\r\n                                        <Input min={1} max={10} value={this.state.count} className=\"amount-text\" onChange={this.changeQty.bind(this)} />\r\n                                        <a title=\"+\" className=\"amount-plus\" onClick={this.add}>+</a>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"pop-cart-zw\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"pop-cart-act\">\r\n                        <a className=\"btn-sure\" onClick={this.goCar}>确定</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pop-preview\" style={{ display: \"none\" }}>\r\n                    <div className=\"pro-prebg\">\r\n                    </div>\r\n                    <img src=\"\" alt=\"商品名称\" className=\"pro-preimg\" />\r\n                </div>\r\n                <div className=\"pop-mask pop-mask-index\" style={{ display: this.state.visible ? \"block\" : \"none\" }} onClick={this.onMask}>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    // console.log(\"state\",state)\r\n    return {\r\n        cartCount:state.cartlist.length,\r\n        cartlist:state.cartlist\r\n    }\r\n}\r\nDetail=connect(mapStateToProps)(Detail)\r\nexport default Detail;"]},"metadata":{},"sourceType":"module"}